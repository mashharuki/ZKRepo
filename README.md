# ZKRepo
ゼロ知識証明に関する資材をまとめるためのリポジトリです。  
当面は、zkDAOの課題突破を目標にまとめていきます！

## ゼロ知識証明とは

数学の技術を利用して、秘匿情報を外部に提示することなくその情報を保持していることを証明する技術のこと。

## Circomとは

Circomは、ゼロ知識証明の生成に利用できる算術回路を定義するための新しいドメイン特化型言語である。Circomコンパイラは、Rustで書かれたcircom言語コンパイラで、関連する制約のセットと、回路のすべてのワイヤへの有効な割り当てを効率的に計算するプログラム（C++またはWebAssemblyで書かれている）を含むR1CSファイルを生成するために使用することができます。circomの主な特徴の1つは、プログラマがテンプレートと呼ばれるパラメータ化可能な回路を定義し、それをインスタンス化してより大きな回路を形成することができるモジュール性である。小さな個々のコンポーネントから回路を構築するという考え方は、大規模で複雑なcircom回路のテスト、レビュー、監査、または正式な検証を容易に行うことを可能にする。この点で、circomのユーザーは独自のカスタムテンプレートを作成したり、circomLibからテンプレートをインスタンス化することができる。circomLibは、コンパレータ、ハッシュ関数、デジタル署名、2進および10進コンバータなど、数百の回路を数える一般公開のライブラリである。CircomLibは、実務家や開発者が一般に利用できるようになっている。

証明システムの実装は、JavascriptとPure Web Assemblyで書かれたsnarkjs、ネイティブのWeb Assemblyで書かれたwasmsnark、C++とIntel Assemblyで書かれたrapidSnarkなどのライブラリでも提供されています。

Circomは、使いやすいインターフェースと、証明機構の複雑さを抽象化することで、開発者に演算回路を構築するための全体的なフレームワークを提供することを目的としています。

Circomの言語リファレンスは、circom language referenceで見ることができる。

現時点では、circom Visual Studio Code highlight syntaxとcircom Vim highlight syntaxの2つのシンタックスハイライターが利用可能です。

## Zero-Knowledge Proofs: STARKs vs SNARKs
ゼロ知識証明技術は、Ethereumにプライバシーをもたらします。現在、市場で最も魅力的なゼロ知識証明技術は、zk-STARKとzk-SNARKの2つです。  

### 新技術間の対立
歴史上、同じ時期に同じような技術を市場に投入し、同じような結果を求めるが、問題へのアプローチの仕方が異なるということは、常にありました。このような市場現象が発生した場合、採用する側はそれぞれの技術を客観的に評価することを心がけなければならない。  

STARK陣営とSNARK陣営は、それぞれの技術に対して非常に情熱的であるため、この2つの技術を客観的に比較することは興味深いことだと考えました。

### STARKs vs SNARKs

簡単に説明すると、ゼロ知識証明技術とは、証明者が自分の知識を証明するために情報そのものを伝達することなく、ある当事者が他の当事者に対して自分が何かを知っていることを証明することを可能にする技術です。この技術は、ユーザー間で提供する必要のある情報量を削減するため、プライバシーを強化する技術であると同時に、非プライベートシステムの場合、情報量を完全に含まないため、証明をより高速に検証することができるスケーリング技術でもあるのです。  

現在、市場で最も有力なゼロ知識技術として、zk-STARKとzk-SNARKの2つがあります。zk-STARKはzero-knowledge scalable transparent argument of knowledge、zk-SNARKはzero-knowledge succinct non-interactive argument of knowledgeを意味します。この記事では、文化と技術の両方の観点から、これら2つの異なるゼロ知識技術の主な違いを掘り下げて説明します。さらに、これらのゼロ知識技術はどちらも本質的に非対話的であり、コードが展開され自律的に動作することができることを意味します。  

以下に、この2つの技術の大まかな違いを表で紹介します。また、段落形式の違いについても掘り下げていきます。

### SNARKs

2012年1月、カリフォルニア大学バークレー校のアレッサンドロ・キエーザ教授が共著で発表した論文で、彼らが初めて構築したゼロ知識証明に「zk-SNARK」という造語を使いました。 Zk-SNARKは、その安全性を楕円曲線に依存しているのが基本です。暗号技術における楕円曲線は、公知の基点に対するランダムな楕円曲線要素の離散対数を求めることは不可能であるという基本的な前提の下に運用されている。  

楕円曲線乱数生成器にバックドアが存在するかどうかについては大きな議論があったが、アルゴリズム全体としては一般に安全性が保たれている。サイドチャネル攻撃にはいくつかの有名な脆弱性があるが、いくつかの技術によって容易に緩和することができる。楕円曲線を用いた暗号には量子攻撃が待ち構えているが、その安全性モデルを破るために必要な量子コンピューティングはまだ広く利用されていない。  

また、zk-SNARKは楕円曲線に基づくだけでなく、信頼できるセットアップも必要です。トラステッド・セットアップとは、私的な取引に必要な証明の作成とその検証に使用する鍵の最初の作成イベントのことで、鍵の作成時に、その証明の検証を行う。当初、これらの鍵が作成される際、検証用鍵と私的取引を送信する鍵の間に隠されたパラメータがリンクされています。Trusted Set upイベントでこれらの鍵の作成に使用された秘密が破棄されない場合、その秘密を利用して偽の検証により取引を偽造し、保有者に無から新しいトークンを作成し取引に使用するなどの行為を行うことができるようになる可能性がある。zk-SNARKsのプライバシー機能により、空中から作成されたトークンが実際に空中から作成されたものであることを検証する方法はないでしょう。とはいえ、信頼できる設定は最初だけ必要です。  

その結果、SNARKベースのネットワークのユーザーは、Trusted Set-upが正しく行われたこと、つまりTrusted Set-upキーに関連する秘密が破壊され、その儀式を監督した個人によって保持されていないことに依存しなければなりません。信頼されたセットアップへの依存は、SNARKsを批判する人たちが最も懸念する分野の1つです。とはいえ、開発者が信頼済みセットアップを利用する必要があるのは最初だけで、継続的に利用する必要はない。  

SNARKsに対するもう1つの大きな批判は、SNARKsが量子的な耐性を備えていないことです。量子コンピューティングが大きく普及すれば、SNARKsを支えるプライバシー技術は崩壊してしまうだろう。もちろん、SNARKsの支持者は、量子コンピューターが利用されるようになれば、RSAやほとんどの財布のインフラが壊れるなど、はるかに多くの問題が発生することを正しく指摘している。   

とはいえ、信頼できるセットアップに関連する問題があるにもかかわらず、SNARKがSTARKよりもはるかに速いペースで実際に採用されたのには、多くの理由がある。SNARKはSTARKよりも何年も前に発見されたため、採用の面でかなり先行したテクノロジーとなりました。古いデジタルアセットプロジェクトの1つであるZcashは、ブロックチェーン開発コミュニティ内でSNARKsの使用を普及させました。Zcashやその他のSNARKsの採用者のおかげで、SNARKsは最も多くの開発者ライブラリ、公開コード、プロジェクト、そしてこの技術に積極的に取り組んでいる開発者がいることになります。Zcashに加え、新興のDEXであるLoopringもSNARKsを利用しています。開発者がゼロ知識技術の活用を始めようと思った場合、STARKsよりもSNARKsを活用する方がはるかに多くのサポートを受けられるでしょう。  

さらに、SNARKはSTARKの24%のガスしか必要としないと推定されており、エンドユーザーにとってSNARKでのトランザクションははるかに安価であることを意味します。最後に、SNARKsのプルーフサイズはSTARKsよりもはるかに小さく、つまりオンチェーンストレージが少なくて済むということです。  

### STARKs

SNARKsはドキュメントや開発者サポートに関してSTARKsより明確に優れていますが、STARKsはいくつかのユニークな利点を提供します。その前に、技術的な観点からSTARKsがどのようなものか、少し掘り下げてみましょう。  

Eli Ben-Sasson、Iddo Bentov、Yinon Horeshy、Michael Riabzevは2018年にSTARKsを説明する最初の論文を書きました。SNARKsとは異なり、STARKsの基盤技術はハッシュ関数に依存しています。さっそくですが、ハッシュ関数に依存することで、量子的な耐性があるなどの利点があります。さらに、ネットワークでSTARKの利用を開始する際に、信頼できる設定が必要ない。  

しかし、STARKの証明サイズはSNARKよりもはるかに大きいため、STARKの検証にはSNARKよりも時間がかかり、さらにSTARKはより多くのガスを必要とすることになります。  

さらに、開発者向けの文書やコミュニティが不足しているため、開発者がSTARKを利用するのはかなり難しいでしょう。STARKWAREのようにSTARKベースのスケーリングソリューションを作成するプロジェクトもありますが、SNARKsのコミュニティの方がまだはるかに規模が大きいのです。  

どちらの開発者コミュニティもSNARKsとSTARKsの両方をサポートしていますが、特にEthereum FoundationはStarkを利用するSTARKwareを声高にサポートしていることがわかります。実際、Ethereum FoundationはSTARKwareに1200万ドルの助成金を与えており、この新興技術への傾倒を明確に示している。  

さらに、STARKのドキュメントはSNARKに比べて見劣りしますが、技術コミュニティは最近、この最先端技術の実装を目指す人々のために、より充実したリソース群を開発しました。  


## Trusted Setupとは


### 参考文献
1. [Course Docs](https://zku.gnomio.com/course/view.php?id=8)
2. [zku-cohort-3](https://github.com/zku-cohort-3)
3. [【GitHub】zkGames](https://github.com/vplasencia/zkGames)
4. [Circom](https://github.com/iden3/circom)
5. [ZoKrates](https://github.com/Zokrates/ZoKrates)
6. [Circom Docs](https://docs.circom.io/getting-started/installation/)
7. [ZoKrates Docs](https://zokrates.github.io/)
8. [Circom installing](https://docs.circom.io/getting-started/installation/)
9. [ZKSnark-Tutorial](https://www.samsclass.info/141/proj/C523.htm)
10. [snarkjs+powers of tau ceremonyでzk proofを作る](https://scrapbox.io/bitpickers/snarkjs+powers_of_tau_ceremony%E3%81%A7zk_proof%E3%82%92%E4%BD%9C%E3%82%8B)

